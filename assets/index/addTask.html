<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Task</title>
    <link rel="icon" href="../img/Logo.png" type="image/x-icon" />

    <link rel="stylesheet" href="../css/standard-css.css" />
    <link rel="stylesheet" href="../fonts/Inter/font.css" />
    <link rel="stylesheet" href="../css/NavHeader.css" />
    <link rel="stylesheet" href="../css/addTask.css" />
    <link rel="stylesheet" href="../css/subtasks.css" />
</head>

<body onload="init();">

    <nav>
        <div id="linkesNavMenu" class="navContent">

        </div>
    </nav>
    <main class="flexC width-100">
        <header>
            <div id="header" class="headerContent">

            </div>
        </header>

        <div class="content add-task-content flexC width-100 override-align-left">
            <h1>Add Task</h1>

            <form class="task-form flexC width-100 align-stretch">

                <div class="form-columns flexR">

                    <div class="form-column left-column flexC width-100">
                        <div class="form-group flexC width-100">
                            <label for="title">Title<span class="required-asterisk">*</span></label>
                            <input type="text" id="title" placeholder="Enter a title" />
                        </div>
                        <div class="form-group flexC width-100">
                            <label for="description">Description</label>
                            <textarea id="description" placeholder="Enter a description"></textarea>
                        </div>
                        <div class="form-group flexC width-100">
                            <label for="due-date">Due Date<span class="required-asterisk">*</span></label>

                            <div class="field-wrapper">
                                <div class="date-picker">
                                    <input type="date" id="due-date" />
                                    <button type="button" id="calendar-toggle" class="calendar-btn"
                                        aria-label="Open calendar">
                                        <svg class="calendar-icon" width="22" height="22" viewBox="0 0 18 20"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M11.5 16C10.8 16 10.2083 15.7583 9.725 15.275C9.24167 14.7917 9 14.2 9 13.5C9 12.8 9.24167 12.2083 9.725 11.725C10.2083 11.2417 10.8 11 11.5 11C12.2 11 12.7917 11.2417 13.275 11.725C13.7583 12.2083 14 12.8 14 13.5C14 14.2 13.7583 14.7917 13.275 15.275C12.7917 15.7583 12.2 16 11.5 16ZM2 20C1.45 20 0.979167 19.8042 0.5875 19.4125C0.195833 19.0208 0 18.55 0 18V4C0 3.45 0.195833 2.97917 0.5875 2.5875C0.979167 2.19583 1.45 2 2 2H3V1C3 0.716667 3.09583 0.479167 3.2875 0.2875C3.47917 0.0958333 3.71667 0 4 0C4.28333 0 4.52083 0.0958333 4.7125 0.2875C4.90417 0.479167 5 0.716667 5 1V2H13V1C13 0.716667 13.0958 0.479167 13.2875 0.2875C13.4792 0.0958333 13.7167 0 14 0C14.2833 0 14.5208 0.0958333 14.7125 0.2875C14.9042 0.479167 15 0.716667 15 1V2H16C16.55 2 17.0208 2.19583 17.4125 2.5875C17.8042 2.97917 18 3.45 18 4V18C18 18.55 17.8042 19.0208 17.4125 19.4125C17.0208 19.8042 16.55 20 16 20H2ZM2 18H16V8H2V18ZM2 6H16V4H2V6Z"
                                                fill="#2A3647" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-divider"></div>

                    <div class="form-column right-column flexC width-100">
                        <div class="form-group">
                            <div class="priohead">Priority</div>
                            <div class="priority-options flexR width-100">
                                <button type="button" class="priority-btn" data-priority="urgent">
                                    <span class="priorating">Urgent</span>
                                    <span class="priority-icon" id="prioUrgentIcon"></span>
                                </button>
                                <button type="button" class="priority-btn selected" data-priority="medium">
                                    <span class="priorating">Medium</span>
                                    <span class="priority-icon" id="prioMediumIcon"></span>
                                </button>
                                <button type="button" class="priority-btn" data-priority="low">
                                    <span class="priorating">Low</span>
                                    <span class="priority-icon" id="prioLowIcon"></span>
                                </button>
                            </div>
                        </div>

                        <div class="form-group assigned-to-wrapper">
                            <label for="assigned-to-input">Assigned To</label>

                            <!-- Container für die ausgewählten Kontakte -->
                            <div id="selected-assignees" class="assigned-to-chips display-none"></div>

                            <div class="dropdown">
                                <div class="dropdown-input-wrapper">
                                    <input id="assigned-to-input" type="text" placeholder="Select contacts"
                                        autocomplete="off" />


                                    <button id="assigned-to-toggle-btn" type="button" class="dropdown-toggle"
                                        aria-label="Toggle assigned">
                                        <svg width="24" height="24" viewBox="0 0 25 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <mask id="mask0_338061_4850" style="mask-type:alpha"
                                                maskUnits="userSpaceOnUse" x="0" y="0" width="25" height="24">
                                                <rect x="0.248535" width="24" height="24" fill="#D9D9D9" />
                                            </mask>
                                            <g mask="url(#mask0_338061_4850)">
                                                <path
                                                    d="M11.5485 14.3L8.94851 11.7C8.63184 11.3833 8.56101 11.0208 8.73601 10.6125C8.91101 10.2042 9.22351 10 9.67351 10H14.8235C15.2735 10 15.586 10.2042 15.761 10.6125C15.936 11.0208 15.8652 11.3833 15.5485 11.7L12.9485 14.3C12.8485 14.4 12.7402 14.475 12.6235 14.525C12.5068 14.575 12.3818 14.6 12.2485 14.6C12.1152 14.6 11.9902 14.575 11.8735 14.525C11.7568 14.475 11.6485 14.4 11.5485 14.3Z"
                                                    fill="#2A3647" />
                                            </g>
                                        </svg>
                                    </button>
                                </div>

                                <!-- Dropdown mit Kontaktoptionen -->
                                <ul id="assigned-to-options" class="dropdown-options"></ul>

                                <div id="selected-assignees" class="flexR"></div>
                            </div>
                        </div>


                        <div class="form-group">
                            <label for="category-input">Category<span class="required-asterisk">*</span></label>
                            <div class="field-wrapper">
                                <div class="dropdown">
                                    <div class="dropdown-input-wrapper no-focus">
                                        <input id="category-input" type="text" placeholder="Select task category"
                                            autocomplete="off" />
                                        <button id="category-toggle-btn" type="button" class="dropdown-toggle"
                                            aria-label="Toggle category">
                                            <svg width="24" height="24" viewBox="0 0 25 24" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <mask id="mask0_338061_4850" style="mask-type:alpha"
                                                    maskUnits="userSpaceOnUse" x="0" y="0" width="25" height="24">
                                                    <rect x="0.248535" width="24" height="24" fill="#D9D9D9" />
                                                </mask>
                                                <g mask="url(#mask0_338061_4850)">
                                                    <path
                                                        d="M11.5485 14.3L8.94851 11.7C8.63184 11.3833 8.56101 11.0208 8.73601 10.6125C8.91101 10.2042 9.22351 10 9.67351 10H14.8235C15.2735 10 15.586 10.2042 15.761 10.6125C15.936 11.0208 15.8652 11.3833 15.5485 11.7L12.9485 14.3C12.8485 14.4 12.7402 14.475 12.6235 14.525C12.5068 14.575 12.3818 14.6 12.2485 14.6C12.1152 14.6 11.9902 14.575 11.8735 14.525C11.7568 14.475 11.6485 14.4 11.5485 14.3Z"
                                                        fill="#2A3647" />
                                                </g>
                                            </svg>

                                        </button>

                                    </div>
                                    <ul id="category-options" class="dropdown-options display-none"></ul>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="subtasks">Subtasks</label>
                            <div class="subtask-input-container">
                                <div class="input-add-cancel-wrapper" id="inputBox">
                                    <div class="flexR">
                                        <input id="subtasks" type="text" placeholder="Add new subtask"
                                            autocomplete="off" />
                                        <button class="plus-button overlay-button" id="subtaskPlusBtn" type="button"
                                            aria-label="Add Subtask">
                                        </button>
                                        <div class="add-cancel-btns flexR gap-8" id="addCancelBtns"
                                            style="display: none;">
                                            <button class="cancel-subtask-button overlay-button" type="button"
                                                aria-label="Cancel Subtask">
                                            </button>
                                            <span class="icon-divider" id="subtask-divider"></span>
                                            <button class="add-subtask-button overlay-button" type="button"
                                                aria-label="Confirm Subtask">
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <ul id="subtask-list" class="subtask-list flexC width-100"></ul>
                            </div>
                        </div>


                    </div>
                </div>


                <div class="form-footer flexR width-100">
                    <div class="footer-left flexR">
                        <small class="validation-hint">
                            <span class="required-asterisk">*</span>This field is required
                        </small>
                    </div>

                    <div class="footer-right form-buttons flexR">
                        <button type="reset" class="clear-button">Clear ✖</button>
                        <button type="submit" class="create-button">Create Task ✔</button>
                    </div>
                </div>
            </form>
        </div>
        </div>
    </main>
    <script src="../../main.js"></script>
    <script src="../../js/remoteStorage.js"></script>
    <script src="../../js/templates/templates.js"></script>
    <script src="../../js/subtasks.js"></script>
    <script src="../../js/addTask.js"></script>
</body>

</html>